<template>
  <div>
    <div class="content-area">
      <div class="row">
        <div class="medium-9 medium-push-3 small-12 columns">
          <div class="medium-12 columns">
            <div class="product-filter">
              <div class="grid-filter medium-4 small-5 columns">
                <a class="active" href="list-shop.html#"><i class="fa fa-th-large"></i></a>
                <a href="list-shop.html#"><i class="fa fa-list"></i></a>
              </div>

              <div class="medium-4 small-7 columns byview">
                <div class="float-center">
                  <em>View:</em>
                  <form method="get" action="list-shop.html">
                    <select name="ppp">
                            <option value="6">06</option>
                      <option selected="" value="9">09</option>
                      <option value="15">15</option>
                      <option value="20">20</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                  </form>
                </div>
              </div>

              <div class="medium-4 small-12 columns sortby">
                <div class="pull-right">
                  <form method="get">
                    <em>Sort by:</em>
                    <select name="orderby" class="orderby">
              <option value="menu_order" selected="selected">Default sorting</option>
              <option value="popularity">Sort by popularity</option>
              <option value="rating">Sort by average rating</option>
              <option value="date">Sort by newness</option>
              <option value="price">Sort by price: low to high</option>
              <option value="price-desc">Sort by price: high to low</option>
              </select>
                  </form>
                </div>
              </div>
              <div class="clearfix"></div>
            </div>
          </div>
          <!--Product Filters Ends here.--->
          <div class="clearfix"></div>

          <div class="products-wrap new-products list-view-products">

            <div class="medium-12 small-12 columns">
              <div class="single-product-wrap">
                <div class="single-product medium-4 small-12 columns">
                  <div class="product-img">
                    <a href="single-product.html">
                                          <img class="front-image" src="images/help/product2.png" alt="">
                                        <img class="secondary-image" src="images/help/product2_2.png" alt="">
                                      </a>
                    <span class="sale">sale</span>
                  </div>
                </div>

                <div class="product-info medium-8 small-12 columns">
                  <h6><a href="single-product.html">Feugiat justo lacinia</a></h6>
                  <div class="price">
                    <span class="normal">150$</span>
                    <span class="old">180$</span>
                    <div class="pro-rating float-right">
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
                    aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                  <ul class="menu product-options">
                    <li><a href="list-shop.html#" class="button">add to cart</a></li>
                    <li><a href="list-shop.html#" title="Add to wish list"><i class="fa fa-heart"></i></a></li>
                    <li><a href="list-shop.html#" title="Share With Friends"><i class="fa fa-retweet"></i></a></li>
                    <li><a href="list-shop.html#" title="View Product"><i class="fa fa-search-plus"></i></a></li>
                  </ul>

                </div>
                <div class="clearfix"></div>
              </div>
            </div>
            <!--product Ends here-->

            <div class="medium-12 small-12 columns">
              <div class="single-product-wrap">
                <div class="single-product medium-4 small-12 columns">
                  <div class="product-img">
                    <a href="single-product.html">
                                          <img class="front-image" src="images/help/product1.png" alt="">
                                        <img class="secondary-image" src="images/help/product1_2.png" alt="">
                                      </a>
                    <span class="sale">sale</span>
                  </div>
                </div>

                <div class="product-info medium-8 small-12 columns">
                  <h6><a href="single-product.html">Feugiat justo lacinia</a></h6>
                  <div class="price">
                    <span class="normal">150$</span>
                    <span class="old">180$</span>
                    <div class="pro-rating float-right">
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
                    aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                  <ul class="menu product-options">
                    <li><a href="list-shop.html#" class="button">add to cart</a></li>
                    <li><a href="list-shop.html#" title="Add to wish list"><i class="fa fa-heart"></i></a></li>
                    <li><a href="list-shop.html#" title="Share With Friends"><i class="fa fa-retweet"></i></a></li>
                    <li><a href="list-shop.html#" title="View Product"><i class="fa fa-search-plus"></i></a></li>
                  </ul>

                </div>
                <div class="clearfix"></div>
              </div>
            </div>
            <!--product Ends here-->

            <div class="medium-12 small-12 columns">
              <div class="single-product-wrap">
                <div class="single-product medium-4 small-12 columns">
                  <div class="product-img">
                    <a href="single-product.html">
                                          <img class="front-image" src="images/help/product2.png" alt="">
                                        <img class="secondary-image" src="images/help/product2_2.png" alt="">
                                      </a>
                    <span class="sale">sale</span>
                  </div>
                </div>

                <div class="product-info medium-8 small-12 columns">
                  <h6><a href="single-product.html">Feugiat justo lacinia</a></h6>
                  <div class="price">
                    <span class="normal">150$</span>
                    <span class="old">180$</span>
                    <div class="pro-rating float-right">
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
                    aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                  <ul class="menu product-options">
                    <li><a href="list-shop.html#" class="button">add to cart</a></li>
                    <li><a href="list-shop.html#" title="Add to wish list"><i class="fa fa-heart"></i></a></li>
                    <li><a href="list-shop.html#" title="Share With Friends"><i class="fa fa-retweet"></i></a></li>
                    <li><a href="list-shop.html#" title="View Product"><i class="fa fa-search-plus"></i></a></li>
                  </ul>

                </div>
                <div class="clearfix"></div>
              </div>
            </div>
            <!--product Ends here-->

            <div class="medium-12 small-12 columns">
              <div class="single-product-wrap">
                <div class="single-product medium-4 small-12 columns">
                  <div class="product-img">
                    <a href="single-product.html">
                                          <img class="front-image" src="images/help/product6.png" alt="">
                                        <img class="secondary-image" src="images/help/product6_2.png" alt="">
                                      </a>
                    <span class="sale">sale</span>
                  </div>
                </div>

                <div class="product-info medium-8 small-12 columns">
                  <h6><a href="single-product.html">Feugiat justo lacinia</a></h6>
                  <div class="price">
                    <span class="normal">150$</span>
                    <span class="old">180$</span>
                    <div class="pro-rating float-right">
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                      <i class="fa fa-star"></i>
                    </div>
                    <div class="clearfix"></div>
                  </div>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
                    aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
                  <ul class="menu product-options">
                    <li><a href="list-shop.html#" class="button">add to cart</a></li>
                    <li><a href="list-shop.html#" title="Add to wish list"><i class="fa fa-heart"></i></a></li>
                    <li><a href="list-shop.html#" title="Share With Friends"><i class="fa fa-retweet"></i></a></li>
                    <li><a href="list-shop.html#" title="View Product"><i class="fa fa-search-plus"></i></a></li>
                  </ul>

                </div>
                <div class="clearfix"></div>
              </div>
            </div>
            <!--product Ends here-->

            <div class="clearfix"></div>
          </div>
          <!--products-wrap ends here-->

          <div class="medium-12 columns">
            <div class="product-filter">
              <div class="grid-filter medium-4 small-4 columns">
                <a class="active" href="list-shop.html#"><i class="fa fa-th-large"></i></a>
                <a href="list-shop.html#"><i class="fa fa-list"></i></a>
              </div>

              <div class="medium-8 small-8 columns byview">
                <div class="pagination-container">
                  <ul class="pagination" role="menubar" aria-label="Pagination">
                    <li class="arrow unavailable" aria-disabled="true"><a href="list-shop.html">&laquo; Previous</a></li>
                    <li class="current"><a href="list-shop.html">1</a></li>
                    <li><a href="list-shop.html">2</a></li>
                    <li><a href="list-shop.html">3</a></li>
                    <li><a href="list-shop.html">4</a></li>
                    <li class="unavailable" aria-disabled="true"><a href="list-shop.html">&hellip;</a></li>
                    <li><a href="list-shop.html">12</a></li>
                    <li><a href="list-shop.html">13</a></li>
                    <li class="arrow"><a href="list-shop.html">Next &raquo;</a></li>
                  </ul>
                </div>
              </div>
              <div class="clearfix"></div>
            </div>
          </div>
          <!--Product Filters Ends here.--->
        </div>
        <!--content are ends-->
        <div class="medium-3 medium-pull-9 small-12 columns shop-sidebar sidebar">
          <!--widget Ends-->
          <div class="widget">
            <h4>Search Products</h4>
            <div class="input-group">
              <input class="input-group-field" placeholder="Enter keyword..." type="text">
            </div>
          </div>
          <div class="widget">
            <h4>Product Categories</h4>
            <ul class="menu vertical">
              <li v-for="category in categories">
                <strong @click="onClickTopCategory(category)">{{category.name}}</strong>
                <ul v-if="category.subGroups && category.subGroups.length"
                    class="menu vertical">
                  <li v-for="subCategory in category.subGroups"
                      @click="onClickSubCategory(subCategory)">
                    <p>{{subCategory.name}}</p>
                    <ul class="menu vertical">
                      <li v-for="product in getCategoryProducts(subCategory.id)">
                        <p @click="onClickSidebarProduct(product)">{{product.name}}</p>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <!--widget ends-->
        </div>
        <!--sidebar Ends-->
      </div>
    </div>
  </div>
</template>

<script>
import { mapGetters } from 'vuex'

export default {
  computed: {
    ...mapGetters({
      categories: 'getSidebarProductGroups'
    })
  },
  methods: {
    onClickTopCategory (category) {
      console.log('onClickTopCategory', category)
    },
    onClickSubCategory (subCategory) {
      const { $store } = this
      $store.dispatch('fetchSidebarSubCategory', {subCategory})
    },
    getCategoryProducts (id) {
      const { $store } = this
      console.log('getCategoryProducts', id)
      return $store.getters.getsidebarGroupProductsById(id)
    },
    onClickSidebarProduct (product) {

    }
  }
}
</script>
